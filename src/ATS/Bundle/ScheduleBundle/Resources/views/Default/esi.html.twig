<script type="application/javascript">
    if (typeof GlobalUtils === 'undefined') {
        $.ajaxSetup({cache: true});
        
        $.getScript(window.location.pathname + 'assets/compiled/js/legacy-utils.js');
        $.getScript(window.location.pathname + 'assets/compiled/js/legacy-controllers.js');
    }
    
    (function ($) {
        GlobalUtils.setLastUpdate({{ update|serialize|raw }});
        
        GlobalUtils.setSemesters({{ render(controller('ATSScheduleBundle:Term:cget', {
            '_format': 'json'
        })) }});
        
        GlobalUtils.setSubjects({{ render(controller('ATSScheduleBundle:Subject:cget', {
            '_format': 'json'
        })) }});
        
        GlobalUtils.setInstructors({{ render(controller('ATSScheduleBundle:Instructor:cgetBySubject', {
            '_format': 'json'
        })) }});
    }) (jQuery);
</script>
